<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="styleotp.css">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let timeLeft = 300; // 5 minutes (300 seconds)
            const timerDisplay = document.getElementById("timer");
            const inputs = document.querySelectorAll("#code-container input");

            function updateTimerDisplay() {
                let minutes = Math.floor(timeLeft / 60);
                let seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
            }

            function disableInputs() {
                inputs.forEach(input => {
                    input.disabled = true;
                });
            }

            function startTimer() {
                updateTimerDisplay(); // Initialize display
                const countdown = setInterval(() => {
                    timeLeft--;

                    if (timeLeft <= 0) {
                        clearInterval(countdown);
                        disableInputs();
                        timerDisplay.textContent = "Time expired!";
                    } else {
                        updateTimerDisplay();
                    }
                }, 1000);
            }

            startTimer(); // Start the countdown when the page loads

            // OTP Input Handling
            inputs.forEach((input, index) => {
                input.addEventListener("input", function (e) {
                    if (!/^\d$/.test(e.target.value)) {
                        e.target.value = ""; // Clear non-numeric input
                    } else if (index < inputs.length - 1) {
                        inputs[index + 1].focus(); // Move to next input
                    }
                });

                input.addEventListener("keydown", function (e) {
                    if (e.key === "Backspace" && e.target.value === "") {
                        let prevInput = inputs[index - 1];
                        if (prevInput) {
                            prevInput.focus();
                            prevInput.value = "";
                        }
                    }
                });
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="left-side">
            <img src="image.png" alt="Left Side Image">
        </div>
        <div class="right-side">
            <div class="login-box">
                <label for="code">Enter 4-digit code</label>
                <p>Time remaining: <span id="timer">5:00</span></p> <!-- Timer display -->
                <form>
                    <div id="code-container">
                        <input type="text" id="code1" maxlength="1" required>
                        <input type="text" id="code2" maxlength="1" required>
                        <input type="text" id="code3" maxlength="1" required>
                        <input type="text" id="code4" maxlength="1" required>
                    </div>
                    <button type="submit">Verify</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>
