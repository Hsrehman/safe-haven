<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <link rel="stylesheet" href="newpass.css">
    <script>
        function validatePasswords(event) {
            event.preventDefault(); // Prevent form submission
            
            const newPassword = document.getElementById("newPassword").value;
            const confirmPassword = document.getElementById("confirmPassword").value;
            const errorMessage = document.getElementById("error-message");
            
            // Password validation rules
            const minLength = 8;
            const hasUpperCase = /[A-Z]/.test(newPassword);
            const hasLowerCase = /[a-z]/.test(newPassword);
            const hasNumbers = /\d/.test(newPassword);
            const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(newPassword);
            
            // Check password requirements
            if (newPassword.length < minLength) {
                errorMessage.textContent = "Password must be at least 8 characters long";
                errorMessage.style.color = "red";
                return;
            }
            
            if (!(hasUpperCase && hasLowerCase && hasNumbers && hasSpecialChar)) {
                errorMessage.textContent = "Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character";
                errorMessage.style.color = "red";
                return;
            }
            
            // Check if passwords match
            if (newPassword !== confirmPassword) {
                errorMessage.textContent = "Passwords do not match";
                errorMessage.style.color = "red";
                return;
            }
            
            // If all validations pass
            errorMessage.textContent = "Password successfully updated!";
            errorMessage.style.color = "green";
            
            // Optional: Disable the submit button after successful submission
            document.querySelector('button[type="submit"]').disabled = true;
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="left-side">
            <img src="image.png" alt="Left Side Image">
        </div>
        <div class="right-side">
            <div class="login-box">
                <p>Enter new password</p>
                <form onsubmit="validatePasswords(event)">
                    <div class="password-field">
                        <label for="newPassword">New Password</label>
                        <input 
                            type="password" 
                            id="newPassword" 
                            placeholder="Enter new password" 
                            required
                        >
                    </div>
                    <div class="password-field">
                        <label for="confirmPassword">Confirm Password</label>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            placeholder="Confirm new password" 
                            required
                        >
                    </div>
                    <p id="error-message"></p>
                    <button type="submit">Update Password</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>